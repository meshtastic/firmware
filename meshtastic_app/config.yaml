# =============================================================================
# Meshtastic Master Controller Configuration
# =============================================================================
#
# This configuration file controls the master node that connects to your
# computer via USB. The master communicates with slave firmware nodes over
# the private channel using a custom binary protocol.
#

# -----------------------------------------------------------------------------
# Device Connection
# -----------------------------------------------------------------------------
device:
  # Serial port path (leave empty for auto-detect)
  # Linux:   /dev/ttyUSB0, /dev/ttyACM0
  # macOS:   /dev/cu.usbmodem53230050571
  # Windows: COM4
  port: ""

  # Connection timeout in seconds
  timeout: 30

# -----------------------------------------------------------------------------
# Security - Private Key Configuration
# -----------------------------------------------------------------------------
# The master controller AUTOMATICALLY verifies and updates the device's
# private key on startup. If the device key doesn't match the configured
# key, it will be updated via the meshtastic CLI.
#
# To get your current device key:
#   meshtastic --export-config | grep private_key
#
security:
  # Your device's private key (base64 encoded)
  # This key is verified on every startup and updated if different
  private_key: ""

# -----------------------------------------------------------------------------
# Private Channel Configuration
# -----------------------------------------------------------------------------
# All master-slave communication uses the private channel.
# Channel 0 = Primary (public), Channels 1-7 = Secondary (private)
#
channel:
  # Channel index for private communications
  private_channel_index: 1

# -----------------------------------------------------------------------------
# Protocol Configuration
# -----------------------------------------------------------------------------
# Custom binary protocol settings for master-slave communication.
#
protocol:
  # Private port number (256-511 are private app range)
  # Both master and slaves must use the same port
  port_num: 257

  # Automatically send ACK when receiving data from slaves
  send_ack: true

# -----------------------------------------------------------------------------
# Slave Management
# -----------------------------------------------------------------------------
slaves:
  # Time in seconds before a slave is considered offline
  offline_timeout: 600

# -----------------------------------------------------------------------------
# Position Broadcasting (Optional)
# -----------------------------------------------------------------------------
# Master can optionally broadcast its position to slaves.
# Disabled by default since master is typically stationary.
#
position:
  enabled: false
  interval_seconds: 300
  fixed_latitude: null
  fixed_longitude: null
  fixed_altitude: null

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR
  level: "INFO"

  # Log file path
  file: "master.log"
