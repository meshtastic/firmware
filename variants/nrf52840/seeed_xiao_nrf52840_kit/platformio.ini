; Seeed Xiao BLE: https://wiki.seeedstudio.com/XIAO_BLE/
[env:seeed_xiao_nrf52840_kit]
custom_meshtastic_hw_model = 88
custom_meshtastic_hw_model_slug = XIAO_NRF52_KIT
custom_meshtastic_architecture = nrf52840
custom_meshtastic_actively_supported = true
custom_meshtastic_support_level = 1
custom_meshtastic_display_name = Seeed Xiao NRF52840 Kit
custom_meshtastic_images = seeed_xiao_nrf52_kit.svg
custom_meshtastic_tags = Seeed

extends = nrf52840_base
board = xiao_ble_sense
board_level = pr
build_flags = ${nrf52840_base.build_flags}
  -I variants/nrf52840/seeed_xiao_nrf52840_kit
  -I src/platform/nrf52/softdevice
  -I src/platform/nrf52/softdevice/nrf52
  -DSEEED_XIAO_NRF52840_KIT
  -DSEEED_XIAO_NRF_KIT_DEFAULT
board_build.ldscript = src/platform/nrf52/nrf52840_s140_v7.ld
build_src_filter = ${nrf52_base.build_src_filter} +<../variants/nrf52840/seeed_xiao_nrf52840_kit>
debug_tool = jlink
; If not set we will default to uploading over serial (first it forces bootloader entry by talking 1200bps to cdcacm)
;upload_protocol = jlink

; Seeed Xiao BLE but with GPS moved to NFC pins, and therefore i2c active
[env:seeed_xiao_nrf52840_kit_i2c]
extends = env:seeed_xiao_nrf52840_kit
board_level = extra
build_flags = ${env:seeed_xiao_nrf52840_kit.build_flags}
  -DSEEED_XIAO_NRF52840_KIT
  -DSEEED_XIAO_NRF_KIT_I2C     ; Define I2C variant
  -USEEED_XIAO_NRF_KIT_DEFAULT ; Remove default define