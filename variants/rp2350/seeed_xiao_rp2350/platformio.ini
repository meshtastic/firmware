[env:seeed-xiao-rp2350]
extends = rp2350_base
board = seeed_xiao_rp2350
board_level = pr
upload_protocol = picotool

# Add variant files to include and src paths
build_flags =
  ${rp2350_base.build_flags}
  -D SEEED_XIAO_RP2350
  -I variants/rp2350/seeed_xiao_rp2350
  -D DEBUG_RP2040_PORT=Serial
  -D HW_SPI1_DEVICE
  -D HAS_FRAM_STORAGE=1
  ; FRAM chip select pin on GPIO3
  -D FRAM_CS_PIN=3
  ; FRAM size in bytes (32KB for FM25V02/MB85RS256)
  -D FRAM_SIZE_BYTES=32768
  ; SPI1 pins for FRAM
  -D PIN_SPI1_SCK=10
  -D PIN_SPI1_MOSI=11
  -D PIN_SPI1_MISO=12

lib_deps =
  ${rp2350_base.lib_deps}
  ; Adafruit FRAM SPI library for FRAM support
  ; renovate: datasource=custom.pio depName=adafruit/Adafruit_FRAM_SPI packageName=adafruit/library/Adafruit_FRAM_SPI
  adafruit/Adafruit FRAM SPI@^1.3.0
  ; BusIO is a dependency of the FRAM library
  ; renovate: datasource=custom.pio depName=adafruit/Adafruit_BusIO packageName=adafruit/library/Adafruit_BusIO
  adafruit/Adafruit BusIO@^1.16.0

debug_build_flags = ${rp2350_base.build_flags}, -g
debug_tool = cmsis-dap
