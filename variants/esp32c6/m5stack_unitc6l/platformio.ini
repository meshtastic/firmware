[env:m5stack-unitc6l]
extends = esp32c6_base
board = esp32-c6-devkitc-1
;OpenOCD flash method
;upload_protocol = esp-builtin
;Normal method
upload_protocol = esptool
;upload_port = /dev/ttyACM2
build_unflags =
  -D HAS_BLUETOOTH
  -D MESHTASTIC_EXCLUDE_BLUETOOTH
  -D HAS_WIFI
lib_deps =
  ${esp32c6_base.lib_deps}
  adafruit/Adafruit NeoPixel@^1.12.3
  h2zero/NimBLE-Arduino@^2.3.6
build_flags = 
  ${esp32c6_base.build_flags}
  -D M5STACK_UNITC6L
  -I variants/esp32c6/m5stack_unitc6l
  -DMESHTASTIC_EXCLUDE_PAXCOUNTER=1
  -DARDUINO_USB_CDC_ON_BOOT=1
  -DARDUINO_USB_MODE=1
  -D HAS_BLUETOOTH=1
  -D MESHTASTIC_EXCLUDE_WEBSERVER
  -D MESHTASTIC_EXCLUDE_MQTT
	-DCONFIG_BT_NIMBLE_EXT_ADV=1
	-DCONFIG_BT_NIMBLE_MAX_EXT_ADV_INSTANCES=2
  -D NIMBLE_TWO
monitor_speed=115200
lib_ignore =
  NonBlockingRTTTL
  libpax
build_src_filter = 
 ${esp32c6_base.build_src_filter} +<../variants/esp32c6/m5stack_unitc6l>