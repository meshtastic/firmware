[env:m5stack-unitc6l]
custom_meshtastic_hw_model = 111
custom_meshtastic_hw_model_slug = M5STACK_C6L
custom_meshtastic_architecture = esp32-c6
custom_meshtastic_actively_supported = true
custom_meshtastic_support_level = 1
custom_meshtastic_display_name = M5Stack Unit C6L
custom_meshtastic_images = m5_c6l.svg
custom_meshtastic_tags = M5Stack

extends = esp32c6_base
board = esp32-c6-devkitc-1
board_upload.flash_size = 16MB
board_build.partitions = default_16MB.csv
;OpenOCD flash method
;upload_protocol = esp-builtin
;Normal method
upload_protocol = esptool
;upload_port = /dev/ttyACM2
build_unflags =
  -D HAS_BLUETOOTH
  -D MESHTASTIC_EXCLUDE_BLUETOOTH
  -D HAS_WIFI
lib_deps =
  ${esp32c6_base.lib_deps}
  # renovate: datasource=custom.pio depName=NeoPixel packageName=adafruit/library/Adafruit NeoPixel
  adafruit/Adafruit NeoPixel@1.15.2
  # renovate: datasource=custom.pio depName=NimBLE-Arduino packageName=h2zero/library/NimBLE-Arduino
  h2zero/NimBLE-Arduino@2.3.7
build_flags = 
  ${esp32c6_base.build_flags}
  -D M5STACK_UNITC6L
  -I variants/esp32c6/m5stack_unitc6l
  -DMESHTASTIC_EXCLUDE_PAXCOUNTER=1
  -DARDUINO_USB_CDC_ON_BOOT=1
  -DARDUINO_USB_MODE=1
  -D HAS_BLUETOOTH=1
	-DCONFIG_BT_NIMBLE_EXT_ADV=1
	-DCONFIG_BT_NIMBLE_MAX_EXT_ADV_INSTANCES=2
  -D NIMBLE_TWO
monitor_speed=115200
lib_ignore =
  NonBlockingRTTTL
  libpax
build_src_filter = 
 ${esp32c6_base.build_src_filter} +<../variants/esp32c6/m5stack_unitc6l>