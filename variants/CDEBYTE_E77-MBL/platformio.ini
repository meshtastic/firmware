[env:CDEBYTE_E77-MBL]
extends = stm32_base
; `ebyte_e77_dev` was added in this commit. Remove when a new release is used in the base.
platform = https://github.com/platformio/platform-ststm32.git#3208828db447f4373cd303b7f7393c8fc0dae623
board = ebyte_e77_dev
board_level = extra
build_flags =
  ${stm32_base.build_flags}
  -Ivariants/CDEBYTE_E77-MBL
  -DSERIAL_UART_INSTANCE=1
  -DPIN_SERIAL_RX=PA3
  -DPIN_SERIAL_TX=PA2
  -DHAL_DAC_MODULE_ONLY
  -DHAL_ADC_MODULE_DISABLED
  -DHAL_COMP_MODULE_DISABLED
  -DHAL_CRC_MODULE_DISABLED
  -DHAL_CRYP_MODULE_DISABLED
  -DHAL_GTZC_MODULE_DISABLED
  -DHAL_HSEM_MODULE_DISABLED
  -DHAL_I2C_MODULE_DISABLED
  -DHAL_I2S_MODULE_DISABLED
  -DHAL_IPCC_MODULE_DISABLED
  -DHAL_IRDA_MODULE_DISABLED
  -DHAL_IWDG_MODULE_DISABLED
  -DHAL_LPTIM_MODULE_DISABLED
  -DHAL_PKA_MODULE_DISABLED
  -DHAL_RNG_MODULE_DISABLED
  -DHAL_RTC_MODULE_DISABLED
  -DHAL_SMARTCARD_MODULE_DISABLED
  -DHAL_SMBUS_MODULE_DISABLED
  -DHAL_TIM_MODULE_DISABLED
  -DHAL_WWDG_MODULE_DISABLED
  -DHAL_EXTI_MODULE_DISABLED
  -DHAL_SAI_MODULE_DISABLED
  -DHAL_ICACHE_MODULE_DISABLED
  -DRADIOLIB_EXCLUDE_SX128X=1
  -DRADIOLIB_EXCLUDE_SX127X=1
  -DRADIOLIB_EXCLUDE_LR11X0=1
; -D PIO_FRAMEWORK_ARDUINO_NANOLIB_FLOAT_PRINTF

upload_port = stlink