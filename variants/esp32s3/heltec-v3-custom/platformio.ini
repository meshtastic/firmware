[env:heltec-v3-custom] 
extends = esp32s3_base
board = heltec_wifi_lora_32_V3
board_level = pr
board_check = true
board_build.partitions = default_8MB.csv
upload_port = /dev/tty.SLAB_USBtoUART

lib_deps =
    ${esp32s3_base.lib_deps}
    lovyan03/LovyanGFX@^1.2.0
    keypad

build_flags = 
    ${esp32s3_base.build_flags}
    -D HELTEC_V3
    -D HELTEC_V3_CUSTOM
    -D VARIANT_heltec_v3_custom
    -I variants/esp32s3/heltec-v3-custom
    
    ; Disable built-in display and screen modules
    -D HAS_SCREEN=0
    -D MESHTASTIC_EXCLUDE_SCREEN=1