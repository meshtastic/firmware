; rak_wismeshtap2 rak3112

[rak_wismeshtap_s3]
extends = esp32s3_base
board = wiscore_rak3312
board_check = true
upload_protocol = esptool
board_build.partitions = default_8MB.csv

build_flags = 
  ${esp32_base.build_flags} 
  -D RAK3312
  -D RAK_WISMESH_TAP_V2 
  -I variants/esp32s3/rak_wismesh_tap_v2

lib_deps =
  ${esp32s3_base.lib_deps}
  lovyan03/LovyanGFX@^1.2.0

[ft5x06]
extends = mesh_tab_base
build_flags = 
  -D LGFX_TOUCH=FT5x06
  -D LGFX_TOUCH_I2C_FREQ=100000
  -D LGFX_TOUCH_I2C_PORT=0
  -D LGFX_TOUCH_I2C_ADDR=0x38
  -D LGFX_TOUCH_I2C_SDA=9
  -D LGFX_TOUCH_I2C_SCL=40
  -D LGFX_TOUCH_RST=-1
  -D LGFX_TOUCH_INT=39

[env:rak_wismesh_tap_v2-tft]
extends = rak_wismeshtap_s3

build_flags =
  ${rak_wismeshtap_s3.build_flags}
  -D CONFIG_ARDUHAL_ESP_LOG
  -D CONFIG_ARDUHAL_LOG_COLORS=1
  -D CONFIG_DISABLE_HAL_LOCKS=1
  -D LV_LVGL_H_INCLUDE_SIMPLE
  -D LV_CONF_INCLUDE_SIMPLE
  -D LV_COMP_CONF_INCLUDE_SIMPLE
  -D LV_USE_SYSMON=0
  -D LV_USE_PROFILER=0
  -D LV_USE_PERF_MONITOR=0
  -D LV_USE_MEM_MONITOR=0
  -D LV_USE_LOG=0
  -D LV_BUILD_TEST=0
  -D USE_LOG_DEBUG
  -D LOG_DEBUG_INC=\"DebugConfiguration.h\"
  -D RADIOLIB_SPI_PARANOID=0
  -D INPUTDRIVER_BUTTON_TYPE=0
  -D HAS_SDCARD
  -D HAS_SCREEN=0
  -D HAS_TFT=1
  -D USE_PIN_BUZZER=PIN_BUZZER
  -D RAM_SIZE=5120
  -D LGFX_DRIVER_TEMPLATE
  -D LGFX_DRIVER=LGFX_GENERIC
  -D GFX_DRIVER_INC=\"graphics/LGFX/LGFX_GENERIC.h\"
  -D LGFX_PIN_SCK=13
  -D LGFX_PIN_MOSI=11
  -D LGFX_PIN_MISO=10
  -D LGFX_PIN_DC=42
  -D LGFX_PIN_CS=12
  -D LGFX_PIN_RST=-1
  -D LGFX_PIN_BL=41
  -D VIEW_320x240
  -D USE_PACKET_API
  ${ft5x06.build_flags}
  -D LGFX_SCREEN_WIDTH=240
  -D LGFX_SCREEN_HEIGHT=320
  -D DISPLAY_SIZE=320x240 ; landscape mode
  -D LGFX_PANEL=ST7789
  -D LGFX_ROTATION=1
  -D LGFX_TOUCH_X_MIN=0
  -D LGFX_TOUCH_X_MAX=239
  -D LGFX_TOUCH_Y_MIN=0
  -D LGFX_TOUCH_Y_MAX=319
  -D LGFX_TOUCH_ROTATION=2
  -D LGFX_CFG_HOST=SPI3_HOST
  -D MAP_FULL_REDRAW=1

lib_deps =
  ${rak_wismeshtap_s3.lib_deps}
  ${device-ui_base.lib_deps}


