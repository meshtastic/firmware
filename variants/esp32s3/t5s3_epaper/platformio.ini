[t5s3_epaper_base]
extends = esp32s3_base
board = t5-epaper-s3
board_build.partition = default_16MB.csv
board_check = false
upload_protocol = esptool
build_flags = 
  ${esp32_base.build_flags} 
  -I variants/esp32s3/t5s3_epaper
  -D T5_S3_EPAPER_PRO
  -D PRIVATE_HW
  -D GPS_POWER_TOGGLE
build_src_filter = 
  ${esp32s3_base.build_src_filter} 
lib_deps =
  ${esp32s3_base.lib_deps}
  lewisxhe/XPowersLib@0.3.1
  lewisxhe/SensorLib@0.3.1
  https://github.com/mverch67/BQ27220/archive/07d92be846abd8a0258a50c23198dac0858b22ed.zip
  https://github.com/mverch67/FastEPD/archive/07556b76706ae0f708fb7bf3f38f5ebc227ff2dd.zip
  https://github.com/bitbank2/bb_captouch/archive/refs/tags/1.3.1.zip


[env:t5s3_epaper_inkhud]
extends = t5s3_epaper_base, inkhud
build_flags =
  ${t5s3_epaper_base.build_flags}
  ${inkhud.build_flags}
build_src_filter =
  ${t5s3_epaper_base.build_src_filter}
  ${inkhud.build_src_filter}
  -D SDCARD_USE_SPI1
lib_deps =
  ${inkhud.lib_deps} ; InkHUD libs first, so we get GFXRoot instead of AdafruitGFX
  ${t5s3_epaper_base.lib_deps}


[env:t5s3-epaper-v1] ; H752
extends = t5s3_epaper_base
build_flags =
  ${t5s3_epaper_base.build_flags}
  -D T5_S3_EPAPER_PRO_V1
  -D GPS_DEFAULT_NOT_PRESENT=1

[env:t5s3-epaper-v2] ; H752-01
extends = t5s3_epaper_base
build_flags =
  ${t5s3_epaper_base.build_flags}
  -D T5_S3_EPAPER_PRO_V2
  -D SDCARD_USE_SPI1
