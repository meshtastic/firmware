; LilyGo T-Watch S3
[env:t-watch-ultra]
extends = esp32s3_base
board = t-watch-ultra
board_check = true
board_build.partitions = default_16MB.csv
upload_protocol = esptool

build_flags = ${esp32_base.build_flags} -Ivariants/esp32s3/t-watch-ultra
  -D T_WATCH_ULTRA
  -D RADIOLIB_EXCLUDE_SX128X=1
  -D RADIOLIB_EXCLUDE_SX127X=1
  -D RADIOLIB_EXCLUDE_LR11X0=1
  -D HAS_SDCARD
  -D SDCARD_CS=21
;  -DPCF85063_RTC=0x51
;  -DHAS_BMA423=1

lib_deps = ${esp32s3_base.lib_deps}
  lovyan03/LovyanGFX#develop ; TODO: does not yet contain Panel_CO5300 amoled driver
  adafruit/Adafruit DRV2605 Library@^1.2.4
  earlephilhower/ESP8266Audio@^1.9.9
  earlephilhower/ESP8266SAM@^1.0.1
  lewisxhe/SensorLib@0.3.1

[env:t-watch-ultra-tft]
board_level = extra
extends = env:t-watch-ultra
build_flags =
  ${env:t-watch-ultra.build_flags}
  -D CONFIG_DISABLE_HAL_LOCKS=1
  -D INPUTDRIVER_BUTTON_TYPE=0
  -D HAS_SCREEN=1
  -D HAS_TFT=1
  -D USE_I2S_BUZZER
  -D RAM_SIZE=5120
  -D LV_LVGL_H_INCLUDE_SIMPLE
  -D LV_CONF_INCLUDE_SIMPLE
  -D LV_COMP_CONF_INCLUDE_SIMPLE
  -D LV_USE_SYSMON=0
  -D LV_USE_PROFILER=0
  -D LV_USE_PERF_MONITOR=0
  -D LV_USE_MEM_MONITOR=0
  -D LV_USE_LOG=0
  -D USE_LOG_DEBUG
  -D LOG_DEBUG_INC=\"DebugConfiguration.h\"
  -D RADIOLIB_SPI_PARANOID=0
  -D LGFX_SCREEN_WIDTH=410
  -D LGFX_SCREEN_HEIGHT=502
  -D DISPLAY_SIZE=410x502 ; portrait mode
  -D DISPLAY_SET_RESOLUTION
  -D LGFX_DRIVER=LGFX_TWATCH_ULTRA
  -D GFX_DRIVER_INC=\"graphics/LGFX/LGFX_T_WATCH_ULTRA.h\"
;  -D LVGL_DRIVER=LVGL_T_WATCH_ULTRA
;  -D LV_USE_ST7796=1
  -D VIEW_320x240
  -D USE_PACKET_API
  -D MAP_FULL_REDRAW
  -D CUSTOM_TOUCH_DRIVER

lib_deps =
  ${env:t-watch-ultra.lib_deps}
  ${device-ui_base.lib_deps}